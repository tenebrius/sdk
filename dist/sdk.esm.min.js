class t{constructor(){this.mode="undefined"==typeof window?"json":"cookie"}}var e,r;!function(t){t.TOTAL_COUNT="total_count",t.FILTER_COUNT="filter_count"}(e||(e={}));class s extends Error{constructor(t){super(`${null!=t?t:"ID"} cannot be an empty string`)}}class n{constructor(t,e){this.collection=t,this.transport=e,this.endpoint=t.startsWith("directus_")?`/${t.substring(9)}`:`/items/${t}`}async readOne(t,e,r){if(""==`${t}`)throw new s("id");return(await this.transport.get(`${this.endpoint}/${encodeURI(t)}`,{params:e,...null==r?void 0:r.requestOptions})).data}async readMany(t,e,r){var s;const n=null===(s=(await this.transport.get(`/fields/${this.collection}`)).data)||void 0===s?void 0:s.find((t=>!0===t.schema.is_primary_key)),{data:i,meta:o}=await this.transport.get(`${this.endpoint}`,{params:{...e,filter:{[n.field]:{_in:t},...null==e?void 0:e.filter},sort:(null==e?void 0:e.sort)||n.field},...null==r?void 0:r.requestOptions});return{data:i,...o&&{meta:o}}}async readByQuery(t,e){const{data:r,meta:s}=await this.transport.get(`${this.endpoint}`,{params:t,...null==e?void 0:e.requestOptions});return{data:r,...s&&{meta:s}}}async createOne(t,e,r){return(await this.transport.post(`${this.endpoint}`,t,{params:e,...null==r?void 0:r.requestOptions})).data}async createMany(t,e,r){return await this.transport.post(`${this.endpoint}`,t,{params:e,...null==r?void 0:r.requestOptions})}async updateOne(t,e,r,n){if(""==`${t}`)throw new s("id");return(await this.transport.patch(`${this.endpoint}/${encodeURI(t)}`,e,{params:r,...null==n?void 0:n.requestOptions})).data}async updateMany(t,e,r,s){return await this.transport.patch(`${this.endpoint}`,{keys:t,data:e},{params:r,...null==s?void 0:s.requestOptions})}async updateBatch(t,e,r){return await this.transport.patch(`${this.endpoint}`,t,{params:e,...null==r?void 0:r.requestOptions})}async updateByQuery(t,e,r,s){return await this.transport.patch(`${this.endpoint}`,{query:t,data:e},{params:r,...null==s?void 0:s.requestOptions})}async deleteOne(t,e){if(""==`${t}`)throw new s("id");await this.transport.delete(`${this.endpoint}/${encodeURI(t)}`,void 0,null==e?void 0:e.requestOptions)}async deleteMany(t,e){await this.transport.delete(`${this.endpoint}`,t,null==e?void 0:e.requestOptions)}}class i{constructor(t){this.transport=t}async create(t){return(await this.transport.post("/activity/comment",t)).data}async update(t,e){if(""==`${t}`)throw new s("comment_activity_id");return(await this.transport.patch(`/activity/comment/${encodeURI(t)}`,{comment:e})).data}async delete(t){if(""==`${t}`)throw new s("comment_activity_id");await this.transport.delete(`/activity/comment/${encodeURI(t)}`)}}class o extends n{constructor(t){super("directus_activity",t),this._comments=new i(this.transport)}get comments(){return this._comments}}class a{constructor(t){this.transport=t}async readOne(t){if(""==`${t}`)throw new s("id");return(await this.transport.get(`/assets/${t}`,{responseType:"stream"})).raw}}class u{constructor(t){this.transport=t}async readOne(t){if(""==`${t}`)throw new s("collection");return(await this.transport.get(`/collections/${t}`)).data}async readAll(){const{data:t,meta:e}=await this.transport.get("/collections");return{data:t,meta:e}}async createOne(t){return(await this.transport.post("/collections",t)).data}async createMany(t){const{data:e,meta:r}=await this.transport.post("/collections",t);return{data:e,meta:r}}async updateOne(t,e,r){if(""==`${t}`)throw new s("collection");return(await this.transport.patch(`/collections/${t}`,e,{params:r})).data}async deleteOne(t){if(""==`${t}`)throw new s("collection");await this.transport.delete(`/collections/${t}`)}}class c{constructor(t){this.transport=t}async readOne(t,e){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("id");return(await this.transport.get(`/fields/${t}/${e}`)).data}async readMany(t){if(""==`${t}`)throw new s("collection");return{data:(await this.transport.get(`/fields/${t}`)).data,meta:void 0}}async readAll(){return{data:(await this.transport.get("/fields")).data,meta:void 0}}async createOne(t,e){if(""==`${t}`)throw new s("collection");return(await this.transport.post(`/fields/${t}`,e)).data}async updateOne(t,e,r){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("field");return(await this.transport.patch(`/fields/${t}/${e}`,r)).data}async deleteOne(t,e){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("field");await this.transport.delete(`/fields/${t}/${e}`)}}class h extends n{constructor(t){super("directus_files",t)}async import(t){return(await this.transport.post("/files/import",t)).data}}class l extends n{constructor(t){super("directus_folders",t)}}class p extends n{constructor(t){super("directus_permissions",t)}}class d extends n{constructor(t){super("directus_presets",t)}}class f{constructor(t){this.transport=t}async readOne(t,e){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("id");return(await this.transport.get(`/relations/${t}/${e}`)).data}async readMany(t){if(""==`${t}`)throw new s("collection");return(await this.transport.get(`/relations/${t}`)).data}async readAll(){return(await this.transport.get("/relations")).data}async createOne(t){return(await this.transport.post("/relations",t)).data}async updateOne(t,e,r){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("field");return(await this.transport.patch(`/relations/${t}/${e}`,r)).data}async deleteOne(t,e){if(""==`${t}`)throw new s("collection");if(""==`${e}`)throw new s("field");await this.transport.delete(`/relations/${t}/${e}`)}}class m extends n{constructor(t){super("directus_revisions",t)}}class v extends n{constructor(t){super("directus_roles",t)}}class g{constructor(t){this.transport=t}async ping(){return(await this.transport.get("/server/ping")).raw}async info(){return(await this.transport.get("/server/info")).data}async oas(){return(await this.transport.get("/server/specs/oas")).raw}}class w{constructor(t,e){this.collection=t,this.transport=e,this.endpoint=t.startsWith("directus_")?`/${t.substring(9)}`:`/items/${t}`}async read(t){return(await this.transport.get(`${this.endpoint}`,{params:t})).data}async update(t,e){return(await this.transport.patch(`${this.endpoint}`,t,{params:e})).data}}class _ extends w{constructor(t){super("directus_settings",t)}}class y{constructor(t){this.transport=t}async send(t,e,r){await this.transport.post("/users/invite",{email:t,role:e,invite_url:r})}async accept(t,e){await this.transport.post("/users/invite/accept",{token:t,password:e})}}class E{constructor(t){this.transport=t}async generate(t){return(await this.transport.post("/users/me/tfa/generate",{password:t})).data}async enable(t,e){await this.transport.post("/users/me/tfa/enable",{secret:t,otp:e})}async disable(t){await this.transport.post("/users/me/tfa/disable",{otp:t})}}class O{constructor(t){this._transport=t}get tfa(){return this._tfa||(this._tfa=new E(this._transport))}async read(t){return(await this._transport.get("/users/me",{params:t})).data}async update(t,e){return(await this._transport.patch("/users/me",t,{params:e})).data}}class x extends n{constructor(t){super("directus_users",t)}get invites(){return this._invites||(this._invites=new y(this.transport))}get me(){return this._me||(this._me=new O(this.transport))}}class R{constructor(t){this.random={string:async(t=32)=>(await this.transport.get("/utils/random/string",{params:{length:t}})).data},this.hash={generate:async t=>(await this.transport.post("/utils/hash/generate",{string:t})).data,verify:async(t,e)=>(await this.transport.post("/utils/hash/verify",{string:t,hash:e})).data},this.transport=t}async sort(t,e,r){await this.transport.post(`/utils/sort/${encodeURI(t)}`,{item:e,to:r})}async revert(t){await this.transport.post(`/utils/revert/${encodeURI(t)}`)}}class b{}class k{}class T extends Error{constructor(t,e){var r,s;(null===(r=null==e?void 0:e.errors)||void 0===r?void 0:r.length)?super(null===(s=null==e?void 0:e.errors[0])||void 0===s?void 0:s.message):super((null==t?void 0:t.message)||"Unknown transport error"),this.parent=t,this.response=e,this.errors=(null==e?void 0:e.errors)||[],Object.values(e||{}).some((t=>void 0!==t))||(this.response=void 0),Object.setPrototypeOf(this,T.prototype)}}!function(t){t.AuthToken="auth_token",t.RefreshToken="auth_refresh_token",t.Expires="auth_expires",t.ExpiresAt="auth_expires_at"}(r||(r={}));class A extends b{constructor(t){var e;super(),this.prefix=null!==(e=null==t?void 0:t.prefix)&&void 0!==e?e:""}get auth_token(){return this.get(r.AuthToken)}set auth_token(t){null===t?this.delete(r.AuthToken):this.set(r.AuthToken,t)}get auth_expires(){const t=this.get(r.Expires);return null===t?null:parseInt(t)}set auth_expires(t){null===t?this.delete(r.Expires):this.set(r.Expires,t.toString())}get auth_expires_at(){const t=this.get(r.ExpiresAt);return null===t?null:parseInt(t)}set auth_expires_at(t){null===t?this.delete(r.ExpiresAt):this.set(r.ExpiresAt,t.toString())}get auth_refresh_token(){return this.get(r.RefreshToken)}set auth_refresh_token(t){null===t?this.delete(r.RefreshToken):this.set(r.RefreshToken,t)}}class S extends A{constructor(){super(...arguments),this.values={}}get(t){const e=this.key(t);return e in this.values?this.values[e]:null}set(t,e){return this.values[this.key(t)]=e,e}delete(t){const e=this.key(t),r=this.get(t);return e in this.values&&delete this.values[e],r}key(t){return`${this.prefix}${t}`}}class $ extends A{get(t){const e=localStorage.getItem(this.key(t));return null!==e?e:null}set(t,e){return localStorage.setItem(this.key(t),e),e}delete(t){const e=this.key(t),r=this.get(e);return r&&localStorage.removeItem(e),r}key(t){return`${this.prefix}${t}`}}function P(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var j,q={exports:{}},C={exports:{}},U=function(t,e){return function(){for(var r=new Array(arguments.length),s=0;s<r.length;s++)r[s]=arguments[s];return t.apply(e,r)}},N=U,B=Object.prototype.toString,D=(j=Object.create(null),function(t){var e=B.call(t);return j[e]||(j[e]=e.slice(8,-1).toLowerCase())});function L(t){return t=t.toLowerCase(),function(e){return D(e)===t}}function I(t){return Array.isArray(t)}function F(t){return void 0===t}var M=L("ArrayBuffer");function J(t){return null!==t&&"object"==typeof t}function W(t){if("object"!==D(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var z=L("Date"),H=L("File"),V=L("Blob"),Q=L("FileList");function X(t){return"[object Function]"===B.call(t)}var K=L("URLSearchParams");function G(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),I(t))for(var r=0,s=t.length;r<s;r++)e.call(null,t[r],r,t);else for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.call(null,t[n],n,t)}var Y,Z=(Y="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return Y&&t instanceof Y}),tt={isArray:I,isArrayBuffer:M,isBuffer:function(t){return null!==t&&!F(t)&&null!==t.constructor&&!F(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||B.call(t)===e||X(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&M(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:J,isPlainObject:W,isUndefined:F,isDate:z,isFile:H,isBlob:V,isFunction:X,isStream:function(t){return J(t)&&X(t.pipe)},isURLSearchParams:K,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:G,merge:function t(){var e={};function r(r,s){W(e[s])&&W(r)?e[s]=t(e[s],r):W(r)?e[s]=t({},r):I(r)?e[s]=r.slice():e[s]=r}for(var s=0,n=arguments.length;s<n;s++)G(arguments[s],r);return e},extend:function(t,e,r){return G(e,(function(e,s){t[s]=r&&"function"==typeof e?N(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,r,s){t.prototype=Object.create(e.prototype,s),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)},toFlatObject:function(t,e,r){var s,n,i,o={};e=e||{};do{for(n=(s=Object.getOwnPropertyNames(t)).length;n-- >0;)o[i=s[n]]||(e[i]=t[i],o[i]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:D,kindOfTest:L,endsWith:function(t,e,r){t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;var s=t.indexOf(e,r);return-1!==s&&s===r},toArray:function(t){if(!t)return null;var e=t.length;if(F(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r},isTypedArray:Z,isFileList:Q},et=tt;function rt(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var st=function(t,e,r){if(!e)return t;var s;if(r)s=r(e);else if(et.isURLSearchParams(e))s=e.toString();else{var n=[];et.forEach(e,(function(t,e){null!=t&&(et.isArray(t)?e+="[]":t=[t],et.forEach(t,(function(t){et.isDate(t)?t=t.toISOString():et.isObject(t)&&(t=JSON.stringify(t)),n.push(rt(e)+"="+rt(t))})))})),s=n.join("&")}if(s){var i=t.indexOf("#");-1!==i&&(t=t.slice(0,i)),t+=(-1===t.indexOf("?")?"?":"&")+s}return t},nt=tt;function it(){this.handlers=[]}it.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},it.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},it.prototype.forEach=function(t){nt.forEach(this.handlers,(function(e){null!==e&&t(e)}))};var ot,at,ut=it,ct=tt;function ht(){if(at)return ot;at=1;var t=tt;function e(t,e,r,s,n){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),s&&(this.request=s),n&&(this.response=n)}t.inherits(e,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var r=e.prototype,s={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){s[t]={value:t}})),Object.defineProperties(e,s),Object.defineProperty(r,"isAxiosError",{value:!0}),e.from=function(s,n,i,o,a,u){var c=Object.create(r);return t.toFlatObject(s,c,(function(t){return t!==Error.prototype})),e.call(c,s.message,n,i,o,a),c.name=s.name,u&&Object.assign(c,u),c},ot=e}var lt,pt,dt,ft,mt,vt,gt={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1};function wt(){if(pt)return lt;pt=1;var t=tt;return lt=function(e,r){r=r||new FormData;var s=[];function n(e){return null===e?"":t.isDate(e)?e.toISOString():t.isArrayBuffer(e)||t.isTypedArray(e)?"function"==typeof Blob?new Blob([e]):Buffer.from(e):e}return function e(i,o){if(t.isPlainObject(i)||t.isArray(i)){if(-1!==s.indexOf(i))throw Error("Circular reference detected in "+o);s.push(i),t.forEach(i,(function(s,i){if(!t.isUndefined(s)){var a,u=o?o+"."+i:i;if(s&&!o&&"object"==typeof s)if(t.endsWith(i,"{}"))s=JSON.stringify(s);else if(t.endsWith(i,"[]")&&(a=t.toArray(s)))return void a.forEach((function(e){!t.isUndefined(e)&&r.append(u,n(e))}));e(s,u)}})),s.pop()}else r.append(o,n(i))}(e),r},lt}function _t(){if(ft)return dt;ft=1;var t=ht();return dt=function(e,r,s){var n=s.config.validateStatus;s.status&&n&&!n(s.status)?r(new t("Request failed with status code "+s.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(s.status/100)-4],s.config,s.request,s)):e(s)}}function yt(){if(vt)return mt;vt=1;var t=tt;return mt=t.isStandardBrowserEnv()?{write:function(e,r,s,n,i,o){var a=[];a.push(e+"="+encodeURIComponent(r)),t.isNumber(s)&&a.push("expires="+new Date(s).toGMTString()),t.isString(n)&&a.push("path="+n),t.isString(i)&&a.push("domain="+i),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}var Et,Ot,xt,Rt,bt,kt,Tt,At,St,$t,Pt,jt,qt=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)},Ct=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t},Ut=function(t,e){return t&&!qt(e)?Ct(t,e):e};function Nt(){if(Ot)return Et;Ot=1;var t=tt,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return Et=function(r){var s,n,i,o={};return r?(t.forEach(r.split("\n"),(function(r){if(i=r.indexOf(":"),s=t.trim(r.substr(0,i)).toLowerCase(),n=t.trim(r.substr(i+1)),s){if(o[s]&&e.indexOf(s)>=0)return;o[s]="set-cookie"===s?(o[s]?o[s]:[]).concat([n]):o[s]?o[s]+", "+n:n}})),o):o}}function Bt(){if(Rt)return xt;Rt=1;var t=tt;return xt=t.isStandardBrowserEnv()?function(){var e,r=/(msie|trident)/i.test(navigator.userAgent),s=document.createElement("a");function n(t){var e=t;return r&&(s.setAttribute("href",e),e=s.href),s.setAttribute("href",e),{href:s.href,protocol:s.protocol?s.protocol.replace(/:$/,""):"",host:s.host,search:s.search?s.search.replace(/^\?/,""):"",hash:s.hash?s.hash.replace(/^#/,""):"",hostname:s.hostname,port:s.port,pathname:"/"===s.pathname.charAt(0)?s.pathname:"/"+s.pathname}}return e=n(window.location.href),function(r){var s=t.isString(r)?n(r):r;return s.protocol===e.protocol&&s.host===e.host}}():function(){return!0}}function Dt(){if(kt)return bt;kt=1;var t=ht();function e(e){t.call(this,null==e?"canceled":e,t.ERR_CANCELED),this.name="CanceledError"}return tt.inherits(e,t,{__CANCEL__:!0}),bt=e}function Lt(){return At?Tt:(At=1,Tt=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""})}function It(){if($t)return St;$t=1;var t=tt,e=_t(),r=yt(),s=st,n=Ut,i=Nt(),o=Bt(),a=gt,u=ht(),c=Dt(),h=Lt();return St=function(l){return new Promise((function(p,d){var f,m=l.data,v=l.headers,g=l.responseType;function w(){l.cancelToken&&l.cancelToken.unsubscribe(f),l.signal&&l.signal.removeEventListener("abort",f)}t.isFormData(m)&&t.isStandardBrowserEnv()&&delete v["Content-Type"];var _=new XMLHttpRequest;if(l.auth){var y=l.auth.username||"",E=l.auth.password?unescape(encodeURIComponent(l.auth.password)):"";v.Authorization="Basic "+btoa(y+":"+E)}var O=n(l.baseURL,l.url);function x(){if(_){var t="getAllResponseHeaders"in _?i(_.getAllResponseHeaders()):null,r={data:g&&"text"!==g&&"json"!==g?_.response:_.responseText,status:_.status,statusText:_.statusText,headers:t,config:l,request:_};e((function(t){p(t),w()}),(function(t){d(t),w()}),r),_=null}}if(_.open(l.method.toUpperCase(),s(O,l.params,l.paramsSerializer),!0),_.timeout=l.timeout,"onloadend"in _?_.onloadend=x:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(x)},_.onabort=function(){_&&(d(new u("Request aborted",u.ECONNABORTED,l,_)),_=null)},_.onerror=function(){d(new u("Network Error",u.ERR_NETWORK,l,_,_)),_=null},_.ontimeout=function(){var t=l.timeout?"timeout of "+l.timeout+"ms exceeded":"timeout exceeded",e=l.transitional||a;l.timeoutErrorMessage&&(t=l.timeoutErrorMessage),d(new u(t,e.clarifyTimeoutError?u.ETIMEDOUT:u.ECONNABORTED,l,_)),_=null},t.isStandardBrowserEnv()){var R=(l.withCredentials||o(O))&&l.xsrfCookieName?r.read(l.xsrfCookieName):void 0;R&&(v[l.xsrfHeaderName]=R)}"setRequestHeader"in _&&t.forEach(v,(function(t,e){void 0===m&&"content-type"===e.toLowerCase()?delete v[e]:_.setRequestHeader(e,t)})),t.isUndefined(l.withCredentials)||(_.withCredentials=!!l.withCredentials),g&&"json"!==g&&(_.responseType=l.responseType),"function"==typeof l.onDownloadProgress&&_.addEventListener("progress",l.onDownloadProgress),"function"==typeof l.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",l.onUploadProgress),(l.cancelToken||l.signal)&&(f=function(t){_&&(d(!t||t&&t.type?new c:t),_.abort(),_=null)},l.cancelToken&&l.cancelToken.subscribe(f),l.signal&&(l.signal.aborted?f():l.signal.addEventListener("abort",f))),m||(m=null);var b=h(O);b&&-1===["http","https","file"].indexOf(b)?d(new u("Unsupported protocol "+b+":",u.ERR_BAD_REQUEST,l)):_.send(m)}))},St}var Ft=tt,Mt=function(t,e){ct.forEach(t,(function(r,s){s!==e&&s.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[s])}))},Jt=ht(),Wt=gt,zt=wt(),Ht={"Content-Type":"application/x-www-form-urlencoded"};function Vt(t,e){!Ft.isUndefined(t)&&Ft.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var Qt,Xt={transitional:Wt,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(Qt=It()),Qt),transformRequest:[function(t,e){if(Mt(e,"Accept"),Mt(e,"Content-Type"),Ft.isFormData(t)||Ft.isArrayBuffer(t)||Ft.isBuffer(t)||Ft.isStream(t)||Ft.isFile(t)||Ft.isBlob(t))return t;if(Ft.isArrayBufferView(t))return t.buffer;if(Ft.isURLSearchParams(t))return Vt(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r,s=Ft.isObject(t),n=e&&e["Content-Type"];if((r=Ft.isFileList(t))||s&&"multipart/form-data"===n){var i=this.env&&this.env.FormData;return zt(r?{"files[]":t}:t,i&&new i)}return s||"application/json"===n?(Vt(e,"application/json"),function(t,e,r){if(Ft.isString(t))try{return(e||JSON.parse)(t),Ft.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||Xt.transitional,r=e&&e.silentJSONParsing,s=e&&e.forcedJSONParsing,n=!r&&"json"===this.responseType;if(n||s&&Ft.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(n){if("SyntaxError"===t.name)throw Jt.from(t,Jt.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jt?Pt:(jt=1,Pt=null)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Ft.forEach(["delete","get","head"],(function(t){Xt.headers[t]={}})),Ft.forEach(["post","put","patch"],(function(t){Xt.headers[t]=Ft.merge(Ht)}));var Kt,Gt,Yt=Xt,Zt=tt,te=Yt;function ee(){return Gt?Kt:(Gt=1,Kt=function(t){return!(!t||!t.__CANCEL__)})}var re=tt,se=function(t,e,r){var s=this||te;return Zt.forEach(r,(function(r){t=r.call(s,t,e)})),t},ne=ee(),ie=Yt,oe=Dt();function ae(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new oe}var ue,ce,he=tt,le=function(t,e){e=e||{};var r={};function s(t,e){return he.isPlainObject(t)&&he.isPlainObject(e)?he.merge(t,e):he.isPlainObject(e)?he.merge({},e):he.isArray(e)?e.slice():e}function n(r){return he.isUndefined(e[r])?he.isUndefined(t[r])?void 0:s(void 0,t[r]):s(t[r],e[r])}function i(t){if(!he.isUndefined(e[t]))return s(void 0,e[t])}function o(r){return he.isUndefined(e[r])?he.isUndefined(t[r])?void 0:s(void 0,t[r]):s(void 0,e[r])}function a(r){return r in e?s(t[r],e[r]):r in t?s(void 0,t[r]):void 0}var u={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a};return he.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||n,s=e(t);he.isUndefined(s)&&e!==a||(r[t]=s)})),r};function pe(){return ce?ue:(ce=1,ue={version:"0.27.2"})}var de=pe().version,fe=ht(),me={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){me[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var ve={};me.transitional=function(t,e,r){function s(t,e){return"[Axios v"+de+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,i){if(!1===t)throw new fe(s(n," has been removed"+(e?" in "+e:"")),fe.ERR_DEPRECATED);return e&&!ve[n]&&(ve[n]=!0,console.warn(s(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,i)}};var ge,we,_e,ye,Ee,Oe,xe={assertOptions:function(t,e,r){if("object"!=typeof t)throw new fe("options must be an object",fe.ERR_BAD_OPTION_VALUE);for(var s=Object.keys(t),n=s.length;n-- >0;){var i=s[n],o=e[i];if(o){var a=t[i],u=void 0===a||o(a,i,t);if(!0!==u)throw new fe("option "+i+" must be "+u,fe.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new fe("Unknown option "+i,fe.ERR_BAD_OPTION)}},validators:me},Re=tt,be=st,ke=ut,Te=function(t){return ae(t),t.headers=t.headers||{},t.data=se.call(t,t.data,t.headers,t.transformRequest),t.headers=re.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),re.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||ie.adapter)(t).then((function(e){return ae(t),e.data=se.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return ne(e)||(ae(t),e&&e.response&&(e.response.data=se.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))},Ae=le,Se=Ut,$e=xe,Pe=$e.validators;function je(t){this.defaults=t,this.interceptors={request:new ke,response:new ke}}je.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=Ae(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&$e.assertOptions(r,{silentJSONParsing:Pe.transitional(Pe.boolean),forcedJSONParsing:Pe.transitional(Pe.boolean),clarifyTimeoutError:Pe.transitional(Pe.boolean)},!1);var s=[],n=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(n=n&&t.synchronous,s.unshift(t.fulfilled,t.rejected))}));var i,o=[];if(this.interceptors.response.forEach((function(t){o.push(t.fulfilled,t.rejected)})),!n){var a=[Te,void 0];for(Array.prototype.unshift.apply(a,s),a=a.concat(o),i=Promise.resolve(e);a.length;)i=i.then(a.shift(),a.shift());return i}for(var u=e;s.length;){var c=s.shift(),h=s.shift();try{u=c(u)}catch(t){h(t);break}}try{i=Te(u)}catch(t){return Promise.reject(t)}for(;o.length;)i=i.then(o.shift(),o.shift());return i},je.prototype.getUri=function(t){t=Ae(this.defaults,t);var e=Se(t.baseURL,t.url);return be(e,t.params,t.paramsSerializer)},Re.forEach(["delete","get","head","options"],(function(t){je.prototype[t]=function(e,r){return this.request(Ae(r||{},{method:t,url:e,data:(r||{}).data}))}})),Re.forEach(["post","put","patch"],(function(t){function e(e){return function(r,s,n){return this.request(Ae(n||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:s}))}}je.prototype[t]=e(),je.prototype[t+"Form"]=e(!0)}));var qe=tt,Ce=U,Ue=je,Ne=le;var Be=function t(e){var r=new Ue(e),s=Ce(Ue.prototype.request,r);return qe.extend(s,Ue.prototype,r),qe.extend(s,r),s.create=function(r){return t(Ne(e,r))},s}(Yt);Be.Axios=Ue,Be.CanceledError=Dt(),Be.CancelToken=function(){if(we)return ge;we=1;var t=Dt();function e(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var r;this.promise=new Promise((function(t){r=t}));var s=this;this.promise.then((function(t){if(s._listeners){var e,r=s._listeners.length;for(e=0;e<r;e++)s._listeners[e](t);s._listeners=null}})),this.promise.then=function(t){var e,r=new Promise((function(t){s.subscribe(t),e=t})).then(t);return r.cancel=function(){s.unsubscribe(e)},r},e((function(e){s.reason||(s.reason=new t(e),r(s.reason))}))}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},e.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},e.source=function(){var t;return{token:new e((function(e){t=e})),cancel:t}},ge=e}(),Be.isCancel=ee(),Be.VERSION=pe().version,Be.toFormData=wt(),Be.AxiosError=ht(),Be.Cancel=Be.CanceledError,Be.all=function(t){return Promise.all(t)},Be.spread=ye?_e:(ye=1,_e=function(t){return function(e){return t.apply(null,e)}}),Be.isAxiosError=function(){if(Oe)return Ee;Oe=1;var t=tt;return Ee=function(e){return t.isObject(e)&&!0===e.isAxiosError}}(),C.exports=Be,C.exports.default=Be;var De=P(q.exports=C.exports);class Le extends k{constructor(t){var e;super(),this.config=t,this.axios=De.create({baseURL:this.config.url,params:this.config.params,headers:this.config.headers,onUploadProgress:this.config.onUploadProgress,maxBodyLength:this.config.maxBodyLength,maxContentLength:this.config.maxContentLength,withCredentials:!0}),(null===(e=this.config)||void 0===e?void 0:e.beforeRequest)&&(this.beforeRequest=this.config.beforeRequest)}async beforeRequest(t){return t}get url(){return this.config.url}async request(t,e,r,s){var n,i,o,a,u;try{let n={method:t,url:e,data:r,params:null==s?void 0:s.params,headers:null==s?void 0:s.headers,responseType:null==s?void 0:s.responseType,onUploadProgress:null==s?void 0:s.onUploadProgress};n=await this.beforeRequest(n);const i=await this.axios.request(n),o={raw:i.data,status:i.status,statusText:i.statusText,headers:i.headers,data:i.data.data,meta:i.data.meta,errors:i.data.errors};if(i.data.errors)throw new T(null,o);return o}catch(t){if(!t||t instanceof Error==!1)throw t;if(De.isAxiosError(t)){const e=null===(n=t.response)||void 0===n?void 0:n.data;throw new T(t,{raw:null===(i=t.response)||void 0===i?void 0:i.data,status:null===(o=t.response)||void 0===o?void 0:o.status,statusText:null===(a=t.response)||void 0===a?void 0:a.statusText,headers:null===(u=t.response)||void 0===u?void 0:u.headers,data:null==e?void 0:e.data,meta:null==e?void 0:e.meta,errors:null==e?void 0:e.errors})}throw new T(t)}}async get(t,e){return await this.request("get",t,void 0,e)}async head(t,e){return await this.request("head",t,void 0,e)}async options(t,e){return await this.request("options",t,void 0,e)}async delete(t,e,r){return await this.request("delete",t,e,r)}async put(t,e,r){return await this.request("put",t,e,r)}async post(t,e,r){return await this.request("post",t,e,r)}async patch(t,e,r){return await this.request("patch",t,e,r)}}class Ie{constructor(t){this.transport=t}async request(t,e){await this.transport.post("/auth/password/request",{email:t,reset_url:e})}async reset(t,e){await this.transport.post("/auth/password/reset",{token:t,password:e})}}class Fe extends t{constructor(t){var e,r,s;super(),this.autoRefresh=!0,this.msRefreshBeforeExpires=3e4,this.staticToken="",this._transport=t.transport,this._storage=t.storage,this.autoRefresh=null!==(e=null==t?void 0:t.autoRefresh)&&void 0!==e?e:this.autoRefresh,this.mode=null!==(r=null==t?void 0:t.mode)&&void 0!==r?r:this.mode,this.msRefreshBeforeExpires=null!==(s=null==t?void 0:t.msRefreshBeforeExpires)&&void 0!==s?s:this.msRefreshBeforeExpires,(null==t?void 0:t.staticToken)&&(this.staticToken=null==t?void 0:t.staticToken,this.updateStorage({access_token:this.staticToken,expires:null,refresh_token:null}))}get storage(){return this._storage}get transport(){return this._transport}get token(){return(async()=>{if(this._refreshPromise)try{await this._refreshPromise}finally{this._refreshPromise=void 0}return this._storage.auth_token})()}get password(){return this.passwords=this.passwords||new Ie(this._transport)}resetStorage(){this._storage.auth_token=null,this._storage.auth_refresh_token=null,this._storage.auth_expires=null,this._storage.auth_expires_at=null}updateStorage(t){var e,r;const s=null!==(e=t.expires)&&void 0!==e?e:null;this._storage.auth_token=t.access_token,this._storage.auth_refresh_token=null!==(r=t.refresh_token)&&void 0!==r?r:null,this._storage.auth_expires=s,this._storage.auth_expires_at=(new Date).getTime()+(null!=s?s:0)}async refreshIfExpired(){if(!this.staticToken&&this.autoRefresh)if(this._refreshPromise)try{await this._refreshPromise}finally{this._refreshPromise=void 0}else if(this._storage.auth_expires_at&&this._storage.auth_expires_at<(new Date).getTime()+this.msRefreshBeforeExpires){this.refresh();try{await this._refreshPromise}finally{this._refreshPromise=void 0}}}refresh(){if(this._refreshPromise)return this._refreshPromise;return this._refreshPromise=(async()=>{var t;await new Promise((t=>setTimeout(t,1)));const e=this._storage.auth_refresh_token;this.resetStorage();const r=await this._transport.post("/auth/refresh",{refresh_token:"json"===this.mode?e:void 0});return this.updateStorage(r.data),{access_token:r.data.access_token,...(null===(t=r.data)||void 0===t?void 0:t.refresh_token)&&{refresh_token:r.data.refresh_token},expires:r.data.expires}})()}async login(t){var e;this.resetStorage();const r=await this._transport.post("/auth/login",{mode:this.mode,...t},{headers:{Authorization:null}});return this.updateStorage(r.data),{access_token:r.data.access_token,...(null===(e=r.data)||void 0===e?void 0:e.refresh_token)&&{refresh_token:r.data.refresh_token},expires:r.data.expires}}async static(t){return this.staticToken||(this.staticToken=t),await this._transport.get("/users/me",{params:{access_token:t},headers:{Authorization:null}}),this.updateStorage({access_token:t,expires:null,refresh_token:null}),!0}async logout(){let t;"json"===this.mode&&(t=this._storage.auth_refresh_token||void 0),await this._transport.post("/auth/logout",{refresh_token:t}),this.updateStorage({access_token:null,expires:null,refresh_token:null})}}class Me{constructor(t){this.transport=t}async request(t,e,r){return await this.transport.post(t,{query:e,variables:void 0===r?{}:r})}async items(t,e){return await this.request("/graphql",t,e)}async system(t,e){return await this.request("/graphql/system",t,e)}}class Je{constructor(e,r){var s,n,i,o,a,u,c,h,l;if(this._url=e,this._options=r,this._items={},this._singletons={},(null===(s=this._options)||void 0===s?void 0:s.storage)&&(null===(n=this._options)||void 0===n?void 0:n.storage)instanceof b)this._storage=this._options.storage;else{const t=null===(i=this._options)||void 0===i?void 0:i.storage,{mode:e,...r}=null!=t?t:{};"MemoryStorage"===e||"undefined"==typeof window?this._storage=new S(r):this._storage=new $(r)}(null===(o=this._options)||void 0===o?void 0:o.transport)&&(null===(a=this._options)||void 0===a?void 0:a.transport)instanceof k?this._transport=this._options.transport:this._transport=new Le({url:this.url,...null===(u=this._options)||void 0===u?void 0:u.transport,beforeRequest:async t=>{var e,r,s,n,i;let o=t;if("/auth/refresh"!==t.url){await this._auth.refreshIfExpired();const e=this.storage.auth_token,r=e?e.startsWith("Bearer ")?String(this.storage.auth_token):`Bearer ${this.storage.auth_token}`:"";o={...t,headers:{Authorization:r,...t.headers}}}return(null===(e=this._options)||void 0===e?void 0:e.transport)instanceof k||!(null===(s=null===(r=this._options)||void 0===r?void 0:r.transport)||void 0===s?void 0:s.beforeRequest)?o:null===(i=null===(n=this._options)||void 0===n?void 0:n.transport)||void 0===i?void 0:i.beforeRequest(o)}}),(null===(c=this._options)||void 0===c?void 0:c.auth)&&(null===(h=this._options)||void 0===h?void 0:h.auth)instanceof t?this._auth=this._options.auth:this._auth=new Fe({transport:this._transport,storage:this._storage,...null===(l=this._options)||void 0===l?void 0:l.auth})}get url(){return this._url}get auth(){return this._auth}get storage(){return this._storage}get transport(){return this._transport}get assets(){return this._assets||(this._assets=new a(this.transport))}get activity(){return this._activity||(this._activity=new o(this.transport))}get collections(){return this._collections||(this._collections=new u(this.transport))}get fields(){return this._fields||(this._fields=new c(this.transport))}get files(){return this._files||(this._files=new h(this.transport))}get folders(){return this._folders||(this._folders=new l(this.transport))}get permissions(){return this._permissions||(this._permissions=new p(this.transport))}get presets(){return this._presets||(this._presets=new d(this.transport))}get relations(){return this._relations||(this._relations=new f(this.transport))}get revisions(){return this._revisions||(this._revisions=new m(this.transport))}get roles(){return this._roles||(this._roles=new v(this.transport))}get users(){return this._users||(this._users=new x(this.transport))}get settings(){return this._settings||(this._settings=new _(this.transport))}get server(){return this._server||(this._server=new g(this.transport))}get utils(){return this._utils||(this._utils=new R(this.transport))}get graphql(){return this._graphql||(this._graphql=new Me(this.transport))}singleton(t){return this._singletons[t]||(this._singletons[t]=new w(t,this.transport))}items(t){return this._items[t]||(this._items[t]=new n(t,this.transport))}}export{o as ActivityHandler,a as AssetsHandler,Fe as Auth,A as BaseStorage,u as CollectionsHandler,i as CommentsHandler,Je as Directus,s as EmptyParamError,c as FieldsHandler,h as FilesHandler,l as FoldersHandler,t as IAuth,b as IStorage,k as ITransport,n as ItemsHandler,$ as LocalStorage,S as MemoryStorage,e as Meta,p as PermissionsHandler,d as PresetsHandler,f as RelationsHandler,m as RevisionsHandler,v as RolesHandler,g as ServerHandler,_ as SettingsHandler,Le as Transport,T as TransportError,x as UsersHandler,R as UtilsHandler};
//# sourceMappingURL=sdk.esm.min.js.map
